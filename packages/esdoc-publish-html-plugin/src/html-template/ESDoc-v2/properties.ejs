<% include('utils'); -%><%#- utils.var_dump(properties); -%>
<!-- properties.ejs -->
<div data-ice="properties">
  <%
  if(title)
  {
    %><h4 data-ice="title"><%= title %></h4>
    <%
  }
  %><table class="params">
    <thead>
      <tr>
        <td>Name</td>
        <td>Type</td>
        <td>Attribute</td>
        <td>Description</td>
      </tr>
    </thead>
    <tbody>
      <% for(const prop of properties)
      { %><tr data-ice="property" data-depth="<%= (prop.name.split('.') - 1) %>">
        <td data-ice="name" class="code" data-depth="<%= (prop.name.split('.') - 1) %>"><%= prop.name %></td>
        <td data-ice="type" class="code"><%
          // HACK: typesLinks is hacked to be an array with one element - an JSDoc object for use with signature, so pass it in.
          if(prop.typesLinks)
          { %><%- include('signature.ejs', {root: prop.typesLinks[0]}); %><%
          } %>
        </td>
        <td data-ice="appendix"><%
          if(prop.optional || prop.hasDefaultValue || prop.nullable)
          { %>
            <ul><% if(prop.optional)
            {
              %>
              <li>optional</li><%
            }
            if(prop.hasDefaultValue)
            {
              %>
              <li>default: <%= prop.defaultValue %></li><%
            }
            if(prop.nullable)
            {
              %>
              <li>nullable: true</li><%
            }
          }//if %>
          </ul>
        </td>
        <td data-ice="description"><%- prop.description // Description can use markdown, so render it with html enabled %></td>
      </tr><%
      }//for %>
    </tbody>
  </table>
</div>
<!-- properties.ejs end -->
