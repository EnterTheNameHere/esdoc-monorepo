<% include(`${template.rootDirectory}/utils`); _%>
<!-- test.ejs -->
<% function renderTestCase(test, depth = 0)
{ -%>
  <tr class="test-interface" data-ice="testInterface" data-test-depth="<%= depth %>">
    <td data-ice="testDescription" style="padding-left: <%= 10 * (depth + 1) %>px">
      <%
      if(test.children && test.children.length > 0)
      {
        %><span data-ice="testInterfaceToggle" class="toggle closed"></span><%
      }//if
      %><span><%- renderLink(test.description) %></span>
    </td>
    <td data-ice="testTarget" class="test-target">
      <%
      for(const target of test.targets) {
        %><span><% renderLink(target) %></span><%
      }//for %>
    </td>
  </tr><%

  if(test.children && test.children.length > 0)
  {
    for(const child of test.children) {
      %><%- renderTestCase(child, depth+1); %><%
    }//for 
  }//if
}//renderTestCase -%>
<h1>Test</h1>
<table class="test-summary">
  <thead>
    <tr>
      <td class="test-description">Description</td>
      <td class="test-target">Identifier</td>
    </tr>
  </thead>
  <tbody data-ice="tests">
    <%
    if(tests && tests.length > 1)
    {
      for(const test of tests)
      {
        %><%- renderTestCase(test); %><%
      }//for
    }//if %>
  </tbody>
</table>
<!-- test.ejs end -->
